# 多文件打开缓冲区案例操作

> 将多个文件的头部批量加入相同的文字信息


> 操作流程如下

1. 在终端里进入到目标目录下
2. 使用vim 打开需要编辑的文件 可以是多个   `vim *.cpp` 表示打开当前目录下所有后缀为.cpp 的文件
3. 对第一个文件准备好需要批量修改的文本信息
4. 使用`V` 进入行选择的可是模式，移动光标选中所需的文本，然后使用 `y` 复制选中的文本
5. 执行命令 `:set autowrite` 告诉vim 在切换文件的时自动存盘
6. 执行命令 `:n|normal ggP` 切换到下一个文件并执行正常模式命令 ggP, 跳转到文件开头并帖入文本
7. 确认修改无误后 键入` :、` 上箭头和回车  重复执行上面的命令
8. 如果vim报错说已经是最后一个文件里的时候 使用 `:w` 或 `:wq` 存盘退出  



> 缓冲区的管理和切换

- 1. 键入vim 进入vim，然后使用 `:args **/*.cpp` 打开需要编辑的文件
- 2. 使用 `:ls` 查看缓冲区所有buffer
- 3. 可以看到缓冲区的所有文件列表 这里有一点需要注意 如果 不使用 `:args 文件` 打开文件 的话 就不会显示文件列表

> 缓冲区命令介绍
- `:buffers` 缩写 `:ls` 显示缓冲区列表
- `:buffer` 缩写 `:b` 跳转到指定的缓冲区 `ps :如果当前缓冲区已被修改且未保存的话 vim 会报错终止 但是如果命令后面加！则会放弃修改内容`
- `:bdelete [文件编号]` 或者 `:bd [文件编号]`  删除对应文件编号的缓冲区 如果未指定文件编号那就是删除当前缓冲区
- `:bnext` 缩写 `:bn` 跳转到下一个缓冲区
- `:bNext` 缩写`:bN` 或者 `:bprevious` 缩写 `:bp` 跳转到上一个缓冲区 
- `:bfirst` 或 `:brewind` 跳转到缓冲区列表的第一个文件
- `:blast` 跳转到缓冲区列表的最后一个文件

# 以上学习笔记均来自 极客时间 吴永伟老师专栏 《Vim实用技巧必知必会》 